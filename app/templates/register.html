{% extends "base.html" %}
{% block title %}Inscription{% endblock %}
{% block content %}
<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/register.css') }}">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<div class="register-container">
    <div class="register-card">
        <div class="register-header">
            <div class="register-logo">
                <i class="fas fa-user-plus"></i>
            </div>
            <h2>Créer un compte</h2>
            <p>Rejoignez notre communauté dès aujourd'hui</p>
        </div>

        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <div class="alert alert-danger">
                    {% for message in messages %}
                        <p>{{ message }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}

        <form method="POST" class="register-form">
            <div class="form-group">
                <div class="input-group">
                    <span class="input-icon">
                        <i class="fas fa-user"></i>
                    </span>
                    <input 
                        type="text" 
                        name="username" 
                        placeholder="Nom d'utilisateur"
                        required
                        autocomplete="username"
                        aria-label="Nom d'utilisateur"
                        minlength="3"
                        maxlength="20"
                        pattern="[a-zA-Z0-9_-]+"
                        title="Le nom d'utilisateur doit contenir entre 3 et 20 caractères alphanumériques"
                    >
                </div>
                <div class="input-hint">3-20 caractères, lettres, chiffres et tirets uniquement</div>
            </div>

            <div class="form-group">
                <div class="input-group">
                    <span class="input-icon">
                        <i class="fas fa-envelope"></i>
                    </span>
                    <input 
                        type="email" 
                        name="email" 
                        placeholder="Adresse e-mail"
                        required
                        autocomplete="email"
                        aria-label="Adresse e-mail"
                    >
                </div>
            </div>

            <div class="form-group">
                <div class="input-group">
                    <span class="input-icon">
                        <i class="fas fa-lock"></i>
                    </span>
                    <input 
                        type="password" 
                        name="password" 
                        placeholder="Mot de passe"
                        required
                        autocomplete="new-password"
                        aria-label="Mot de passe"
                        minlength="8"
                    >
                    <button type="button" class="toggle-password" aria-label="Afficher/Masquer le mot de passe">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
                <div class="password-strength">
                    <div class="password-strength-bar"></div>
                </div>
                <div class="password-requirements">
                    <p class="requirement" data-requirement="length">
                        <i class="fas fa-circle"></i> 8 caractères minimum
                    </p>
                    <p class="requirement" data-requirement="uppercase">
                        <i class="fas fa-circle"></i> Une majuscule
                    </p>
                    <p class="requirement" data-requirement="lowercase">
                        <i class="fas fa-circle"></i> Une minuscule
                    </p>
                    <p class="requirement" data-requirement="number">
                        <i class="fas fa-circle"></i> Un chiffre
                    </p>
                    <p class="requirement" data-requirement="special">
                        <i class="fas fa-circle"></i> Un caractère spécial
                    </p>
                </div>
            </div>

            <div class="form-group">
                <div class="input-group">
                    <span class="input-icon">
                        <i class="fas fa-lock"></i>
                    </span>
                    <input 
                        type="password" 
                        name="confirm_password" 
                        placeholder="Confirmer le mot de passe"
                        required
                        autocomplete="new-password"
                        aria-label="Confirmer le mot de passe"
                    >
                </div>
            </div>

            <div class="form-agreement">
                <label class="checkbox-label">
                    <input type="checkbox" name="terms" required>
                    <span>J'accepte les <a href="/terms" target="_blank">conditions d'utilisation</a> et la <a href="/privacy" target="_blank">politique de confidentialité</a></span>
                </label>
            </div>

            <button type="submit" class="btn-register">
                <i class="fas fa-user-plus"></i>
                Créer mon compte
            </button>
        </form>

        <div class="social-register">
            <p>Ou inscrivez-vous avec</p>
            <div class="social-buttons">
                <button class="btn-social google">
                    <i class="fab fa-google"></i>
                    Google
                </button>
                <button class="btn-social facebook">
                    <i class="fab fa-facebook-f"></i>
                    Facebook
                </button>
            </div>
        </div>

        <div class="login-link">
            <p>Déjà membre? <a href="/login">Connectez-vous</a></p>
        </div>
    </div>
</div>
{% endblock %}